parameters:
    knp.doctrine_behaviors.reflection.is_recursive: true
    knp.doctrine_behaviors.translatable_subscriber.translatable_fetch_method: LAZY
    knp.doctrine_behaviors.translatable_subscriber.translation_fetch_method: LAZY

    knp.doctrine_behaviors.timestampable_subscriber.db_field_type: datetime
    knp.doctrine_behaviors.blameable_subscriber.user_entity: ~

services:
    _defaults:
        autowire: true
        autoconfigure: true
        bind:
            $locale: "%locale%"
            $isRecursive: "%knp.doctrine_behaviors.reflection.is_recursive%"
            $dbFieldType: "%knp.doctrine_behaviors.timestampable_subscriber.db_field_type%"
            $userEntity: "%knp.doctrine_behaviors.blameable_subscriber.user_entity%"

            $translatableFetchMode: "%knp.doctrine_behaviors.translatable_subscriber.translatable_fetch_method%"
            $translationFetchMode: "%knp.doctrine_behaviors.translatable_subscriber.translation_fetch_method%"

            $softDeletableTrait: 'Knp\DoctrineBehaviors\Model\SoftDeletable\SoftDeletable'
            $nodeTrait: 'Knp\DoctrineBehaviors\Model\Tree\Node'
            $sortableTrait: 'Knp\DoctrineBehaviors\Model\Sortable\Sortable'
            $sluggableTrait: 'Knp\DoctrineBehaviors\Model\Sluggable\Sluggable'
            $blameableTrait: 'Knp\DoctrineBehaviors\Model\Blameable\Blameable'
            $translatableTrait: 'Knp\DoctrineBehaviors\Model\Translatable\Translatable'
            $translationTrait: 'Knp\DoctrineBehaviors\Model\Translatable\Translation'

    Knp\DoctrineBehaviors\:
        resource: '../src'

    Knp\DoctrineBehaviors\ORM\Loggable\LoggableSubscriber:
        arguments:
            - "@knp.doctrine_behaviors.loggable_subscriber.logger_callable"

    knp.doctrine_behaviors.geocodable_subscriber:
        class:   Knp\DoctrineBehaviors\ORM\Geocodable\GeocodableSubscriber
        arguments:
            - Knp\DoctrineBehaviors\Model\Geocodable\Geocodable
            - "@?knp.doctrine_behaviors.geocodable_callable"
